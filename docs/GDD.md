# Описание игры

Игра посвящена тематике войны времен второй мировой войны. В этой войне 2
фракции: наши и враги. В нашу фракцию входит большое количество солдат, в том
числе и партизан, мирных жителей. Наше внимание сконцентрировано на партизанах,
а обычные солдаты являются основной боевой силой, которой мы помогаем.

 Наша задача - продвижение нашей фракции к победе. Для победы, мы
должны заставить врагов капитулировать и принять поражение. 

Стратегией войны управляют генералы и командиры, которые формируют задания вниз
по иерархии чинов, на дне которой - наш "герой". Генералы и командиры оперируют
квестами, т.е. дают задания. Солдаты же их исполняют. 

Чтобы справляться со сложными задачами, часто необходимо объединяться в отряды,
чем пользуются и сами NPC. Часто, организация отряда - это приказ командира с
последующим назначением на задачу.

Игрок управляет персонажем, который является обычным партизаном, без каких-то
особенностей. Смерть "героя" ничем ни премечательна и приводит просто к передаче
управления над другим, аналогичным юнитом.

Вместо сюжета используется AI и основная задача - победить оппонентов. AI в этом
случае преследует глобальную цель, разделен на иерархию управления, которая
ставит цели тем точнее, чем ближе к персонажам. AI формирует квесты, что создает
низкоуровневые элементы сюжета. Более высокоуровневые элементы - видеовставки -
формируются из решений, принимаемых наверху иерархии AI, там где генералы.

## Персонажи

Солдаты и партизаны - основные персонажи в игре. Их роль выполнение задач,
ведение боя. Солдат отличается от партизана аммуницией и тактикой. Тактически,
солдаты более опасны в бою чем партизаны, но не умеют стоить, крафтить, т.е. их
навыки выживания низкие. Партизан наоборот: менее успешен в бою, но хорошо
приспособлен к выживанию.

Командиры - генералы, командиры, сержанты - это дополнительные юниты, которые
лучше понимают стратегию боя, нежели тактику. Они занимаются стратегией войны,
управлением развития лагерей. Генералы редко появляются в игре. Сержанты и
командиры есть в каждом лагере.

Мирные жители являются дополнительными и встречаются только в поселках. Вести
бой не умеют, выживают плохо, но знают как вести хозяйство в деревне, как
производить еду, управлять скотом.

Животные наполняют мир и в основном являются источником пищи для людей, но так
же могут быть опасны и нападать на одиночных солдат или небольшие группы.

# Базовый геймплей

Игра фокусирует на ходьбе и стрельбе с отрядом. NPC отряда в большинстве своем
сами определяют куда им двигаться и что делать, до тех пор, пока мы не станем
командующим или лидером отряда, что позволит командовать членами отряда.

# Управление 

Перемещение осуществляется при помощи клавиатуры/мышки или джойстика:
перемещение на клавишы, а направления зрения, прицела с помощью указателя.

# HUD

Игрок видит состояние своего персонажа: здоровье, патроны (если есть огнестрел),
сонливость, голод.
Дополнительно, видно состояние каждого члена отряда, если мы состоим в отряде.

Есть ситуативный UI который отображается для коммуникации с членами отряда.
Такой UI позволяет сообщать о ситуации на поле боя саратникам или просить
помощи. если игрок - лидер отряда, то UI позволяет отдавать приказы.

# Базовые механики

- Стрельба и перемещение
- Квесты
- Крафтинг
- Строительство 
- Характеристики и бафы от камандиров

# Второстепенные механики

## Строительство

Стоительство в игре занимает второстепенную, но вспомогательную роль. 
Окопы - позволяют получить укрытие там, где природных нет.
Лагеря предоставляют необходимые для жизни вещи: укрытия от дождя и для сна,
костры для приготовления пищи.

# Ключевые механики (killer features)

- Отряд соратников. Вы как персонаж перемещаетесь с отрядом соратников который
  может принимать решения самостоятельно или по приказу.

- Rogue-like реалистичность и сложность. При смерти - вы берете в управление
  другого персонажа (like Ancestors). 

- "Live environment" - живой мир и AI. Мир менется со временем, не зависимо от
	того делаете ли вы что-то или нет. Так же работает закон сохранения энергии:
	ресурсы не появляются из ниоткуда и не пропадают в никуда.

## Live Environment

### Live
- НПС - невосполняемый ресурс ограниченного количества
- Изначально, ресурсы имеют распределение по карте
- Смерть игрока приводит к передаче управления игроку над ближайшим NPC низкого
	ранга
- Для существования, НПС нужны примитивные ресурсы: еда, вода. Так же
  второстепенные потребности: тепло(одежда, кров), туалет
- Отсутствие примитивов ведет к вымеранию НПС
- Менеджеры - определяют какие задачи будут выполняться
- Задача менеджера - выполнить задачу минимальными потерями имея ресурс в виде
	примитивов, NPC
- Менеджеры могут делегировать часть ресурсов под управление другого менеджера
- Менеджер формирует задания по добыче примитивов для поддержания жизни НПС
- Менеджер имеет свои характеристики, которые влиют на принимаемые им решения

### Managment history

Для принятия решений, менеджеру нужна информация. Первая задача, которую ставит
менеджер - поиск информации. Менеджер задает отрядам задачи проведения разведки
в заданных им областях. Менеджер оперирует предположениями для формирования
задач разведки, и в силу недостатка информации, может ставить задачи не совсем
определенные: "найдите где-нибудь на севере что-нибудь полезное". Это оставляет
свободу ИИ НПС для выполнения задачи. 

Предположения могут подтверждаться или опровергаться. В результате выполнения
разведки, полученная информация используется менеджером для формирования более
сложных задач: 
- Договориться с деревней о поставках еды
- Найти новых саратников
- ???

Постепенно у менеджера выстраивается карта обеспечения кампании. В дальнейшем,
по этой карте менеджер строит задания. 

### Question: how handle collecting info with live env?
Как передавать изменяемую информацию? Игрок может пройти по разным путям, а
следовательно получать разную информацию в одних и тех же местах. 
Пример:
1. На юге есть железная дорога. В одной итерации, менеджер дает задачу
   разведать север. События развиваются на севере, кампания попадает на фронт.
   На юге в этот момент проходят поезда врагов, дополняя их ресурсами. Позднее
   менеджер дает задачу исследовать юг, обнаруживается проходящий поезд. Затем
   отправляется операция по диверсии поезда, но в это время лагерь
   уничтожается, кампания проиграна.
2. Во второй раз игрок игнорирует приказ поиска на севере и находит на юге ж/д,
   и сообщает о поездах. Менеджер меняет план на атаку юга, что приводит к
   победе.

#### Варианты
- определение конечного множества возможных событий для конечного множества
  интерактивных областей (деревни, ж/д пути, фронтовые окопы, и т.п.)

### Question: how to determine effective action?
Как менеджер должен по полученной информации создавать новые задачи?

#### Варианты
- Имея конечное множество событий, можно построить дерево реагирования

Можно ли не расматривать все варианты? 

- Использование ML. Генерация датасетов на менеджерах со случайной логикой,
  поиск паттернов (цепочек событий) ведущих к поражению, рассмотрение различных
  моделей.

Что делать с неполной информацией? Модели в большинстве случаев рассматривают
одинаковый набор параметров, а в нам случае он все время пополняется и с каждым
новым событием у нас больше информации. 
:qa

### Possible history: Wolfs assault on camp
- Игрок создает лагерь где-то неподалеку от стаи волков
- Стая волков когда голодна выходит на охоту
- Если стая находит лагерь, происходит оценка сил и шанс победы. Если шанс
  велик - происходит атака
- Если НПС лагеря замечает волков - начинает шум
- Игрок может так же поднять шум
- Другие НПС реагируют на шум и ищут врага. Когда находят атакуют

### Possible history: raid
- НПС врага могут осуществляют поиск партизанских лагерей в разных секторах
- если НПС врага выбирают для поиска серктор с лагерем, то далее повторяется
  история аналогичная истории с волками

### Missions: ending, timing
- Миссии имеют тайминг - время, в которое есть смысл их выполнять
- Миссии должны генерироваться из данных об окружающем мире
- Результат выполнения или невыполнения миссии изменяет окружение, что приводит
  к изменению последующих миссий (их наличие, тип)
